{
    "name": "Order",
    "base": "PersistedModel",
    "idInjection": true,
    "options": {
        "validateUpsert": true
    },
    "widgets": [{
        "label": "Total orders",
        "icon": "si-bar-chart",
        "fetchLocally": true,
        "propObj": {
            "type": "$allTime",
            "where": {},
            "dateProp": "added"
        }
    }, {
        "label": "Cancelled Orders",
        "icon": "si-bar-chart",
        "fetchLocally": true,
        "propObj": {
            "type": "$allTime",
            "where": {
                "status": "cancelled"
            },
            "dateProp": "added"
        }
    }, {
        "label": "Delivered Orders",
        "icon": "si-bar-chart",
        "fetchLocally": true,
        "propObj": {
            "type": "$allTime",
            "where": {
                "status": "delivered"
            },
            "dateProp": "added"
        }
    }, {
        "label": "Today Orders",
        "icon": "si-bar-chart",
        "fetchLocally": true,
        "propObj": {
            "type": "$today",
            "where": {},
            "dateProp": "added"
        }
    }, {
        "label": "This week Orders",
        "icon": "si-bar-chart",
        "fetchLocally": true,
        "propObj": {
            "type": "$week",
            "where": {},
            "dateProp": "added"
        }
    }],
    "filters": {
        "status": {
            "type": "$select",
            "label": "Select recipe type",
            "options": [{
                "id": 1,
                "name": "delivered"
            }, {
                "id": 2,
                "name": "cancelled"
            }, {
                "id": 3,
                "name": "prepared"
            }]
        },
        "added": {
            "type": "$date",
            "label": "select order between"
        }
    },
    "tables": {
        "customerAddress": {
            "display": true,
            "search": "text"
        },
        "customerPincode": {
            "display": true,
            "search": "number"
        },
        "geolocation": {
            "display": false
        },
        "status": {
            "search": "select",
            "options": ["delivered", "cancelled", "prepared"]
        },
        "added": {
            "search": "date"
        },
        "customer_phoneNumber": {
            "display": false
        },
        "customer_firstName": {
            "display": false
        },
        "customer_lastName": {
            "display": false
        },
        "customer_profilePic": {
            "display": false
        },
        "customer_password": {
            "display": false
        },
        "customer_date": {
            "display": false
        }
    },
    "validationsBackend": {
        "rules": {
            "customerAddress": {
                "required": true,
                "minlength": 10
            },
            "customerPincode": {
                "required": true,
                "minlength": 6,
                "maxlength": 6,
                "number": true
            }
        },
        "messages": {
            "address": {
                "required": "Address is required",
                "minlength": "Address must be atleast 10 word in length"
            },
            "customerPincode": {
                "required": "Customer pincode is required",
                "minlength": "Minimum permitted length is atleast 6",
                "number": "Pincode number must be a number"
            }
        }
    },
    "properties": {
        "added": {
            "type": "date",
            "defaultFn": "now",
            "template": {
                "type": "dummy"
            }
        },
        "orderDetails": {
            "type": "[object]",
            "required": true
        },
        "customerAddress": {
            "type": "string",
            "required": true,
            "templateOptions": {
                "type": "text",
                "label": "Enter order address",
                "id": "orderAddress"
            }
        },
        "customerPincode": {
            "type": "string",
            "required": true,
            "templateOptions": {
                "type": "text",
                "label": "Enter order pincode",
                "id": "orderPincode"
            }
        },
        "status": {
            "type": "string",
            "required": false,
            "template": {
                "type": "selectString",
                "templateOptions": {
                    "label": "Change order status.",
                    "id": "orderStatus",
                    "options": [
                        "delivered",
                        "cancelled",
                        "prepared"
                    ]
                }
            }
        },
        "geolocation": {
            "type": "geopoint",
            "required": true,
            "template": {
                "type": "objectValue",
                "templateOptions": {
                    "fields": [{
                        "type": "input",
                        "key": "lat",
                        "templateOptions": {
                            "type": "text",
                            "label": "Enter latitude",
                            "id": "latitude"
                        }
                    }, {
                        "type": "input",
                        "key": "lng",
                        "templateOptions": {
                            "type": "text",
                            "label": "Enter longitude",
                            "id": "longitude"
                        }
                    }]
                }
            }
        }
    },
    "validations": [],
    "relations": {
        "customer": {
            "type": "belongsTo",
            "model": "Customer",
            "foreignKey": ""
        }
    },
    "acls": [],
    "methods": {}
}
