<div class="relatedData">
    <div class="row">
        <strong  class="col-xs-12 col-md-12 showRelatedData"><small><a ng-click="toggleShow()">{{showOrHide()}} related data</a></small></strong>
    </div>
    <!-- <hr style="border-color:#ddd;"> -->
    <strong style="margin-left:2px; margin-top:3px;"><small>Add {{to.model}}</small></strong>
    <div ng-if="!hide" style="margin-top:10px;">
        <div class="row" ng-if="!showCreate()"  style="text-align:center">
            <div class="col-md-9 col-xs-12 cleanBtnCornerRight">
                <autocomplete
                    placeholder="{{placeholder}}"
                    model-name="{{to.model}}"
                    search-property="{{to.searchProp}}"
                    value="model[options.key]">
                </autocomplete>
            </div>
            <div ng-if="to.create" class="AddNewButton col-md-3 col-xs-12 cleanBtnCornerLeft">
                <button type="button"  style="height:36px;"   class="btn btn-md btn-default" ng-click="forceDisplay()" >{{to.btnText}}</button>
            </div>
        </div>
        <div ng-if="showCreate()">
            <div class="repeatsection" >
                <formly-form fields="to.fields"
                             model="model[options.key]"
                             form="form">
                </formly-form>
                <div class="form-group">
                    <div  class="col-xs-12 text-right">
                        <button type="button" class="btn btn-sm btn-danger " ng-click="resetCreate()">
                            Remove {{to.model}}
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
