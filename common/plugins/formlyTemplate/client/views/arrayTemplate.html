<div class="relatedData">
    <!--ADDING A REPEATER FOR THE TEMPLATE SECTION-->
    <!--http://angular-formly.com/#/example/advanced/repeating-section-->
    <!-- <hr style="margin-top:10px; border-color:#ddd;"> -->
    <!--loop through each element in model array-->
    <div style="margin-top:10px;" >
        <div class="repeatsection" ng-repeat="element in model[options.key]" ng-init="fields = copyFields(to.fields)">
            <strong class="col-xs-12 " style="text-align:right;" ><small>{{$index + 1}}</small></strong>
            <formly-form fields="fields"
                         model="element"
                         form="form">
            </formly-form>
            <div class="form-group">
                <div class="col-xs-12 text-right" >
                    <button type="button" class="btn btn-sm btn-danger" ng-click="model[options.key].splice($index, 1)">
                        Remove {{to.name}}
                    </button>
                </div>
            </div>
            <hr>
        </div>
        <div class="AddNewButton">
            <button type="button"   class="btn btn-md btn-primary-dark" ng-click="addNew()" >{{to.btnText}}</button>
        </div>
    </div>

</div>
